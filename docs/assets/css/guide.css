/* Field Guide Theme â€” Field Medic Ledger (DIY Commune) */
:root{
  --ink:#e9e7df;
  --muted:#cfcabf;
  --paper:#2a2c2f;
  --paper2:#1f2124;
  --grid1:rgba(255,255,255,.06);
  --grid2:rgba(255,255,255,.03);
  --accent:#d6b55b;
  --alert:#c24a3a;
  --ui:rgba(0,0,0,.55);
  --uiBorder:rgba(255,255,255,.14);
  --shadow:0 10px 30px rgba(0,0,0,.45);
  --radius:16px;
}
html,body{height:100%;margin:0;background:#070707;color:var(--ink);
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}
a{color:var(--ink);text-decoration:none}
.stage{position:relative;width:100%;height:100%;overflow:hidden}
svg.bg{position:absolute;inset:0;width:100%;height:100%;display:block}
.topbar{position:absolute;left:16px;right:16px;top:16px;display:flex;gap:12px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;pointer-events:none}
.pill,.card,.controls{pointer-events:auto;background:var(--ui);border:1px solid var(--uiBorder);
  border-radius:var(--radius);padding:12px 14px;backdrop-filter:blur(10px);box-shadow:var(--shadow)}
.title{margin:0;font-weight:900;letter-spacing:.02em}
.sub{margin:6px 0 0 0;opacity:.92;line-height:1.35;color:var(--muted)}
.k{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);font-size:12px;opacity:.92}
.btn{all:unset;cursor:pointer;padding:8px 10px;border-radius:12px;background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14)}
.btn:hover{background:rgba(255,255,255,.12)}
.content{position:absolute;left:16px;right:16px;top:92px;bottom:16px;display:grid;gap:14px;pointer-events:none}
.card{pointer-events:auto;overflow:auto}
.grid2{grid-template-columns:1.1fr .9fr}
.h{font-weight:900;margin:0 0 8px 0}
.note{opacity:.92;line-height:1.48;margin:0 0 10px 0;color:var(--muted)}
.list{margin:0;padding-left:18px;line-height:1.48;opacity:.92}
.divider{height:1px;background:rgba(255,255,255,.14);margin:12px 0}
.drawer{position:absolute;right:16px;top:92px;bottom:16px;width:min(420px,92vw);
  transform:translateX(calc(100% + 22px));transition:transform .22s ease;pointer-events:none}
.drawer.open{transform:translateX(0);pointer-events:auto}
.toast{position:absolute;left:16px;bottom:16px;background:rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.12);
  padding:10px 12px;border-radius:14px;max-width:min(820px,92vw);pointer-events:none;opacity:0;transform:translateY(8px);
  transition:opacity .18s ease, transform .18s ease}
.toast.show{opacity:1;transform:translateY(0)}
.small{opacity:.85;font-size:12px;line-height:1.35;color:var(--muted)}
@media (max-width:980px){.topbar{align-items:stretch}.content{top:142px}.drawer{top:142px}.grid2{grid-template-columns:1fr}}

/* Map: stage is pan surface; hotspots must receive clicks (panzoom.js skips setPointerCapture on .hot) */
#stage,.stage{pointer-events:auto}
.hot,g.hot,#bg .hot,#bg g.hot{pointer-events:auto;cursor:pointer}
